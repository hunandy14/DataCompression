/**********************************************************
Name : OpenRaw 2.5.2
Date : 2016/08/03
By   : CharlotteHonG
Final: 2016/10/05
**********************************************************/
#ifndef BITPLANE
#define BITPLANE


#include "OpenRAW_fun\OpenRAW"
//=========================================================
//-------------------------Structor------------------------
//=========================================================
#include "OpenRAW_fun\Structor.cpp"
//=========================================================
//------------------------ImrSize--------------------------
//=========================================================
#include "OpenRAW_fun\ImrSize.cpp"
//=========================================================
//------------------------ImrMask--------------------------
//=========================================================
#include "OpenRAW_fun\ImrMask.cpp"
//=========================================================
//------------------------ImrCoor--------------------------
//=========================================================
#include "OpenRAW_fun\ImrCoor.cpp"
//=========================================================
//------------------------imgraw---------------------------
//=========================================================
#include "OpenRAW_fun\imgraw.cpp"
//=========================================================
//------------------------Operator-------------------------
//=========================================================
#include "OpenRAW_fun\Operator.cpp"
//=========================================================
namespace imr {
const size_t byte = 8;
void imgraw::bitplane(imgraw img, size_t bit_idx){
    // bit暫存
    bitset<byte> bit;
    // 逐一字元寫入
    for(unsigned i = 0; i < (*this).filesize; ++i) {
        // 位元
        bit.set(bit_idx, ((bitset<byte>)img[i])[bit_idx]);
        // 轉字串並寫入
        (*this)[i] = (imch)bit.to_ulong();
    }
}
} // imr

#endif